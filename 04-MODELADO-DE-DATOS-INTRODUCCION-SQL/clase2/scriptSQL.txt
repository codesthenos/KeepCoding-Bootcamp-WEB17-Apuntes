create schema if not exists gruiz;

set schema 'gruiz';

drop table poblacion;
drop table provincia;
drop table correspondencia;
drop table miembro;

create table if not exists provincia (
	id serial primary key,
	provincia varchar(30)
);

create table if not exists poblacion (
	id serial primary key,
	poblacion varchar(50),
	id_provincia int,
	constraint provincia_poblacion_fk foreign key (id_provincia) references provincia(id)
);

create table if not exists correspondencia (
	dni_miembro varchar(9) primary key,
	id_poblacion int not null,
	calle text not null,
	numero date,
	piso text
);

create table if not exists miembro (
	dni varchar(9) primary key,
	nombre text not null,
	apellidos text not null,
	fecha_nacimiento date not null
);